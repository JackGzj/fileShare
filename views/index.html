<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="format-detection" content="telephone=no">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <link rel="alternate icon" type="image/png" href="/assets/i/favicon.png">
    <link rel="stylesheet" href="/assets/css/amazeui.min.css"/>
    <script src="/js/jquery.min.js"></script>
    <title>Login Page</title>
    <style>
      .header {
        text-align: center;
      }
      .header h1 {
        font-size: 200%;
        color: #333;
        margin-top: 30px;
      }
      .header p {
        font-size: 14px;
      }
    </style>
  </head>

  <body>
  <div class="header">
    <div class="am-g">
      <h1>Web Chatting</h1>
      <p>
        网页聊天室完成版<br />By.小瓜子
      </p>
    </div>
    <hr />
  </div>
  <div class="am-g">
    <div class="am-u-lg-6 am-u-md-8 am-u-sm-centered">
      <h3>登录</h3>
      <hr>
      <div class="am-btn-group">
        <a href="https://github.com/"
           class="am-btn am-btn-primary am-btn-sm" target="blank"><i
                class="am-icon-github am-icon-sm"></i> Github</a> <a
              href="http://www.w3school.com.cn/html5/index.asp"
              class="am-btn am-btn-success am-btn-sm" target="blank"><i
              class="am-icon-html5 am-icon-sm"></i> HTML5</a> <a
              href="http://www.w3school.com.cn/css3/index.asp"
              class="am-btn am-btn-primary am-btn-sm" target="blank"> <i
              class="am-icon-css3 am-icon-sm"></i> CSS3
      </a> <a href="http://www.firefox.com.cn/"
              class="am-btn am-btn-success am-btn-sm" target="blank"> <i
              class="am-icon-firefox am-icon-sm"></i> Firefox
      </a>

      </div>
      <br> <br>
      <div class="am-form">

        <label for="email">用户ID:</label> <input type="text" name="uid"
                                                id="userid" value=""> <br> <label for="password">密码:</label>
        <input type="password" name="upass" id="password" value="">
        <br> <label for="remember-me"> <input id="remember-me"
                                              type="checkbox"> 记住密码
      </label> <br />
        <div class="am-cf">
          <input type="button" value="登 录"
                 class="am-btn am-btn-primary am-btn-sm am-fl"
                 onClick="return check()" id="loginBtn"> <input
                type="button" value="还不是用户 ^_^? "
                class="am-btn am-btn-default am-btn-sm am-fr"
                onclick="window.location.href='register.jsp'">

        </div>

      </div>
      <span style="vertical-align: middle; color: red" id="remind"></span>
      <hr>
      <p>© 2016 AllMobilize, Inc. Jack's WebSocketTest</p>
    </div>
  </div>
  <script language="javascript">
      console.log("小瓜子的网页聊天室\n如果你看到了这段信息\n希望你对本网页手下留情\n毕竟这只是小瓜子的Java课作业\n");
      console.log("%c发现任何问题可联系小瓜子: gzj@syzc.net.cn","color:red");

      function check() {
          var userid = document.getElementById("userid").value;
          var upass = document.getElementById("password").value;
          if (userid == "" || userid == null) {
              alert("请输入用户ID");
              return false;
          }
          if (upass == "" || upass == null) {
              alert("请输入密码");
              return false;
          }
          $.ajax
          (
              {
                  type : "POST",
                  url : "/login",
                  data:
                      {
                          "user" : userid,
                          "upass": upass,
                      },
                  success : function(data)
                  {//1000成功 1001密码错误 1002用户名不存在
                      console.log(data);
                      /*if(data == 1001){
                          layer.msg("密码错误！");
                      }else if(data == 1002){
                          layer.msg("用户名不存在，请重试！");
                      }else if(data == 1000){
                          window.location.href="${pageContext.request.contextPath }/views/back/beaconManagement/beaconManagement.jsp";

                      }*/
                  },
                  error:function()
                  {
                      //alert("失败啦");
                  }
              }
          );
      }
  </script>
  </body>
</html>